<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>SOHOPHP</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="alternate" type="application/rss+xml" title="SOHOPHP" href="https://www.sohophp.app/rss.xml" />
  <link rel="alternate" type="application/atom+xml" title="SOHOPHP" href="https://www.sohophp.app/atom.xml" />
  <link rel="alternate" type="application/json" title="SOHOPHP" href="https://www.sohophp.app/feed.json" />

  <meta property="og:type" content="website">
<meta property="og:title" content="SOHOPHP">
<meta property="og:url" content="https://www.sohophp.app/index.html">
<meta property="og:site_name" content="SOHOPHP">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="sohophp@gmail.com">
<meta name="twitter:card" content="summary">
  
    
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
   
    
<link rel="stylesheet" href="/typeface-source-code-pro/index.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">SOHOPHP</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://www.sohophp.app"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-it-is-okay" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/07/06/it-is-okay/" class="article-date">
  <time class="dt-published" datetime="2021-07-06T23:28:20.000Z" itemprop="datePublished">2021-07-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/07/06/it-is-okay/">it&#39;is okay</a>
    </h1>
  

      </header>
    

    <!-- Table of Contents -->
   

    <div class="e-content article-entry" itemprop="articleBody">
      
        <blockquote>
<p>You can’t wait until life isn’t hard anymore , before you decide to be happy.</p>
</blockquote>
<blockquote>
<p>你不能等到生活不再艰难了，再决定让自己快乐起来。</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://youtu.be/CZJvBfoHDk0">https://youtu.be/CZJvBfoHDk0</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.sohophp.app/2021/07/06/it-is-okay/" data-id="ckqs8au9v000s0umz7ccm8u7a" data-title="it&#39;is okay" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-docker-ubuntu-postfix-mysql" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/05/21/docker-ubuntu-postfix-mysql/" class="article-date">
  <time class="dt-published" datetime="2021-05-21T15:51:54.000Z" itemprop="datePublished">2021-05-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/05/21/docker-ubuntu-postfix-mysql/">ubuntu下安装postfix+mysql+dovecot</a>
    </h1>
  

      </header>
    

    <!-- Table of Contents -->
   

    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="ubuntu"><a href="#ubuntu" class="headerlink" title="ubuntu"></a>ubuntu</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 更新系统</span></span><br><span class="line">$ apt update </span><br><span class="line"><span class="comment"># 查看系统版本</span></span><br><span class="line">$ uname -a </span><br><span class="line"><span class="comment"># Linux 3fd33fb882db 5.8.0-53-generic #60~20.04.1-Ubuntu SMP Thu May 6 09:52:46 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 因为我基于docker安装的ubuntu缺少一些工具</span></span><br><span class="line"></span><br><span class="line">$ apt install iputils-ping vim net-tools telnet</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="新建mysql数据库-已安装mysql-server，使用docker另一个mysql容器"><a href="#新建mysql数据库-已安装mysql-server，使用docker另一个mysql容器" class="headerlink" title="新建mysql数据库 (已安装mysql-server，使用docker另一个mysql容器)"></a>新建mysql数据库 (已安装mysql-server，使用docker另一个mysql容器)</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建postfix用户，数据库和数据表,</span></span><br><span class="line">mysql&gt; CREATE DATABASE postfix;</span><br><span class="line"><span class="comment"># 选择postfix;</span></span><br><span class="line">mysql&gt; USE postfix;</span><br><span class="line"><span class="comment"># 创建postfix用户密码</span></span><br><span class="line">mysql&gt; CREATE USER postfix@<span class="string">&#x27;%&#x27;</span> IDENTIFIED BY <span class="string">&#x27;postfix&#x27;</span>;</span><br><span class="line"><span class="comment"># 指派权限</span></span><br><span class="line">mysql&gt; GRANT SELECT ,INSERT ,UPDATE ,DELETE ON postfix.* TO <span class="string">&#x27;postfix&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br><span class="line"><span class="comment"># 刷新</span></span><br><span class="line">mysql&gt; FLUSH PRIVILEGES;</span><br><span class="line"><span class="comment"># 创建 domains表</span></span><br><span class="line">mysql&gt; CREATE TABLE domains (domain varchar(50) NOT NULL,PRIMARY KEY (domain));</span><br><span class="line"><span class="comment"># 创建 forwardings表</span></span><br><span class="line">mysql&gt; CREATE TABLE forwardings (<span class="built_in">source</span> varchar(80) NOT NULL,destination TEXT NOT NULL,PRIMARY KEY(<span class="built_in">source</span>));</span><br><span class="line"><span class="comment"># 创建 users表</span></span><br><span class="line">mysql&gt; CREATE TABLE users (email varchar(80) NOT NULL,`password` varchar(64) NOT NULL, quota int(10) default <span class="string">&#x27;104857600&#x27;</span> , PRIMARY KEY (email));</span><br><span class="line"><span class="comment"># 创建 transport表</span></span><br><span class="line">mysql&gt; CREATE TABLE transport (domain varchar(128) NOT NULL default <span class="string">&#x27;&#x27;</span>,transport varchar(128) NOT NULL default <span class="string">&#x27;&#x27;</span>,UNIQUE KEY domain (domain));</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>测试数据</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 域名</span></span><br><span class="line">mysql&gt; insert into domains values (<span class="string">&#x27;postfix.local&#x27;</span>);</span><br><span class="line"><span class="comment"># 邮箱用户</span></span><br><span class="line">mysql&gt; insert into users values (<span class="string">&#x27;user1@postfix.local&#x27;</span>,ENCRYPT(<span class="string">&#x27;user1&#x27;</span>),104857600);</span><br><span class="line"><span class="comment"># 创建邮件转发，多个邮箱地址使用,隔开</span></span><br><span class="line">mysql&gt; insert into forwardings values(<span class="string">&#x27;user2@postfix.local&#x27;</span>,<span class="string">&#x27;user1@postfix.local,user3@postfix.local&#x27;</span>);</span><br><span class="line"><span class="comment"># 转发所有邮件到另外的邮件服务器</span></span><br><span class="line"><span class="comment">#INSERT INTO transport VALUES (&#x27;domain.com&#x27;, &#x27;smtp:server2.domain.com&#x27;);</span></span><br></pre></td></tr></table></figure>
<h2 id="安装postfix"><a href="#安装postfix" class="headerlink" title="安装postfix"></a>安装postfix</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#安装依赖</span></span><br><span class="line">$ apt install openssl telnet libsasl2-2 libsasl2-modules libsasl2-modules-sql sasl2-bin libpam-mysql</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装postfix</span></span><br><span class="line">$ apt install postfix postfix-mysql postfix-doc mailutils</span><br><span class="line"> </span><br><span class="line"><span class="comment"># General type of mail configuration 输入数字 2 （Internet Site）</span></span><br><span class="line"><span class="comment"># System Mail Name 输入 postfix.local </span></span><br><span class="line"><span class="comment"># Geographic area 时区输入数字 6 (Asia)</span></span><br><span class="line"><span class="comment"># Time Zone 输入数字 70 (Shanghai)</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="修改配置"><a href="#修改配置" class="headerlink" title="修改配置"></a>修改配置</h2><p>虚拟domain配置文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim /etc/postfix/mysql-virtual-domains.cf</span><br></pre></td></tr></table></figure>
<p>内容：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">user = postfix</span><br><span class="line">password = postfix</span><br><span class="line">dbname = postfix</span><br><span class="line">query = SELECT domain AS virtual FROM domains WHERE domain = <span class="string">&#x27;%s&#x27;</span></span><br><span class="line">hosts = 172.18.0.136</span><br></pre></td></tr></table></figure>
<p>虚拟forwarding配置文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ vim /etc/postfix/mysql-virtual-forwardings.cf</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>内容</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">user = postfix</span><br><span class="line">password = postfix</span><br><span class="line">dbname = postfix</span><br><span class="line">query = SELECT destination FROM forwardings WHERE <span class="built_in">source</span>=<span class="string">&#x27;%s&#x27;</span></span><br><span class="line">hosts = 172.18.0.136</span><br></pre></td></tr></table></figure>
<p>虚拟mailbox配置文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim /etc/postfix/mysql-virtual-mailboxes.cf</span><br></pre></td></tr></table></figure>
<p>内容</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">user = postfix</span><br><span class="line">password = postfix</span><br><span class="line">dbname = postfix</span><br><span class="line">query = SELECT CONCAT(SUBSTRING_INDEX (email,<span class="string">&#x27;@&#x27;</span>,-1),<span class="string">&#x27;/&#x27;</span>,SUBSTRING_INDEX(email,<span class="string">&#x27;@&#x27;</span>,1),<span class="string">&#x27;/&#x27;</span>) FROM users WHERE email=<span class="string">&#x27;%s&#x27;</span></span><br><span class="line">hosts = 172.18.0.136</span><br></pre></td></tr></table></figure>
<p>虚拟email2email配置文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/postfix/mysql-virtual-email2email.cf</span><br></pre></td></tr></table></figure>
<p>内容</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">user = postfix</span><br><span class="line">password = postfix</span><br><span class="line">dbname = postfix</span><br><span class="line">query = SELECT email FROM users WHERE email=<span class="string">&#x27;%s&#x27;</span></span><br><span class="line">hosts = 172.18.0.136</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim /etc/postfix/mysql-virtual-mydestination.cf</span><br></pre></td></tr></table></figure>
<p>内容</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">user = postfix</span><br><span class="line">password = postfix</span><br><span class="line">dbname = postfix</span><br><span class="line">table = transport</span><br><span class="line">select_field = domain</span><br><span class="line">where_field = domain</span><br><span class="line">hosts = 172.18.0.136</span><br></pre></td></tr></table></figure>
<p>修改配置文件权限</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 修改/etc/postfix/mysql-virtual-*.cf 用户组为postfix</span></span><br><span class="line">$ chgrp postfix /etc/postfix/mysql-virtual-*.cf</span><br><span class="line"><span class="comment"># 禁止other用户访问</span></span><br><span class="line">$ chmod o= /etc/postfix/mysql-virtual-*.cf</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>创建证书</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">$ mkdir /etc/postfix/certs</span><br><span class="line">$ <span class="built_in">cd</span> /etc/postfix/certs</span><br><span class="line"><span class="comment"># 创建证书</span></span><br><span class="line">$ openssl req -new -outform PEM -out smtpd.cert -newkey rsa:2048 -nodes -keyout smtpd.key -keyform PEM -days 3650 -x509</span><br><span class="line"><span class="comment"># 修改权限</span></span><br><span class="line">$ chmod o= smtpd.key</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>创建用户</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ groupadd -g 5000 vmail</span><br><span class="line">$ useradd -c <span class="string">&#x27;vmail&#x27;</span> -g vmail -u 5000 vmail -d /home/vmail -m</span><br></pre></td></tr></table></figure>
<p>使用postconf 配置main.cf</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">$ postconf -e <span class="string">&#x27;myhostname = postfix.local&#x27;</span></span><br><span class="line">$ postconf -e <span class="string">&#x27;mydestination = localhost , proxy:mysql:/etc/postfix/mysql-virtual-mydestination.cf&#x27;</span></span><br><span class="line">$ postconf -e <span class="string">&#x27;mynetworks = 127.0.0.0/8, 172.18.0.125&#x27;</span> </span><br><span class="line">$ postconf -e <span class="string">&#x27;message_size_limit = 30720000&#x27;</span></span><br><span class="line">$ postconf -e <span class="string">&#x27;virtual_alias_domains =&#x27;</span></span><br><span class="line">$ postconf -e <span class="string">&#x27;virtual_alias_maps = proxy:mysql:/etc/postfix/mysql-virtual-forwardings.cf, mysql:/etc/postfix/mysql-virtual-email2email.cf&#x27;</span></span><br><span class="line">$ postconf -e <span class="string">&#x27;virtual_mailbox_domains = proxy:mysql:/etc/postfix/mysql-virtual-domains.cf&#x27;</span></span><br><span class="line">$ postconf -e <span class="string">&#x27;virtual_mailbox_maps = proxy:mysql:/etc/postfix/mysql-virtual-mailboxes.cf&#x27;</span></span><br><span class="line"></span><br><span class="line">$ postconf -e <span class="string">&#x27;virtual_mailbox_base = /home/vmail&#x27;</span></span><br><span class="line">$ postconf -e <span class="string">&#x27;virtual_uid_maps = static:5000&#x27;</span></span><br><span class="line">$ postconf -e <span class="string">&#x27;virtual_gid_maps = static:5000&#x27;</span></span><br><span class="line">$ postconf -e <span class="string">&#x27;smtpd_sasl_auth_enable = yes&#x27;</span></span><br><span class="line">$ postconf -e <span class="string">&#x27;broken_sasl_auth_clients = yes&#x27;</span></span><br><span class="line">$ postconf -e <span class="string">&#x27;smtpd_sasl_authenticated_header = yes&#x27;</span></span><br><span class="line">$ postconf -e <span class="string">&#x27;smtpd_recipient_restrictions = permit_mynetworks, permit_sasl_authenticated, reject_unauth_destination&#x27;</span></span><br><span class="line">$ postconf -e <span class="string">&#x27;smtpd_use_tls = yes&#x27;</span></span><br><span class="line">$ postconf -e <span class="string">&#x27;smtpd_tls_cert_file = /etc/postfix/certs/smtpd.cert&#x27;</span></span><br><span class="line">$ postconf -e <span class="string">&#x27;smtpd_tls_key_file = /etc/postfix/certs/smtpd.key&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 以下为同一行</span></span><br><span class="line">$ postconf -e <span class="string">&#x27;proxy_read_maps = $local_recipient_maps $mydestination $virtual_alias_maps $virtual_alias_domains    $virtual_mailbox_maps $virtual_mailbox_domains $relay_recipient_maps $relay_domains $canonical_maps $sender_canonical_maps $recipient_canonical_maps $relocated_maps $transport_maps $mynetworks &#x27;</span></span><br><span class="line"><span class="comment"># 以上为同一行</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">#其它参考</span></span><br><span class="line"><span class="comment">#  queue_run_delay = 3s          //每3s扫描一次delay的邮件 </span></span><br><span class="line"><span class="comment">#  minimal_backoff_time = 3s         //在3s内不会重发delay的邮件</span></span><br><span class="line"><span class="comment">#  maximal_backoff_time = 6s         //在6s内则一定会重发邮件</span></span><br><span class="line"><span class="comment">#  maximal_queue_lifetime = 12s      //邮件超过12s没有发出，则退信</span></span><br><span class="line"><span class="comment">#  smtpd_sasl_auth_enable = yes      //启动SMTP认证</span></span><br><span class="line"><span class="comment">#  smtpd_sasl_security_options = noanonymous //禁止匿名使用SMTP服务</span></span><br><span class="line"><span class="comment">#  mynetworks = 127.0.0.1        //允许本服务器发送到外网地址</span></span><br><span class="line"><span class="comment">#  smtpd_recipient_restrictions = permit_mynetworks,permit_sasl_authenticated,reject_unauth_destination  //定义地址过滤规则</span></span><br><span class="line"></span><br><span class="line">$ postconf -e <span class="string">&#x27;virtual_transport = dovecot&#x27;</span></span><br><span class="line">$ postconf -e <span class="string">&#x27;local_transport = dovecot&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>配置saslauthd</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir -p /var/spool/postfix/var/run/saslauthd</span><br><span class="line">$ cp -a /etc/default/saslauthd /etc/default/saslauthd.bak</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim /etc/default/saslauthd</span><br></pre></td></tr></table></figure>
<p>内容</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">START=yes</span><br><span class="line">DESC=<span class="string">&quot;SASL Authentication Daemon&quot;</span></span><br><span class="line">NAME=<span class="string">&quot;saslauthd&quot;</span></span><br><span class="line">MECHANISMS=<span class="string">&quot;pam&quot;</span></span><br><span class="line">MECH_OPTIONS=<span class="string">&quot;&quot;</span></span><br><span class="line">THREADS=5</span><br><span class="line">OPTIONS=<span class="string">&quot;-c -m /var/spool/postfix/var/run/saslauthd -r&quot;</span> </span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim /etc/pam.d/smtp</span><br></pre></td></tr></table></figure>
<p>内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">auth    required   pam_mysql.so user&#x3D;postfix passwd&#x3D;postfix host&#x3D;172.18.0.136 db&#x3D;postfix table&#x3D;users usercolumn&#x3D;email passwdcolumn&#x3D;password crypt&#x3D;1</span><br><span class="line">account sufficient pam_mysql.so user&#x3D;postfix passwd&#x3D;postfix host&#x3D;172.168.0.136 db&#x3D;postfix table&#x3D;users usercolumn&#x3D;email passwdcolumn&#x3D;password crypt&#x3D;1</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim /etc/postfix/sasl/smtpd.conf</span><br></pre></td></tr></table></figure>
<p>内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">pwcheck_method: saslauthd</span><br><span class="line">mech_list: plain login</span><br><span class="line">allow_plaintext: true</span><br><span class="line">auxprop_plugin: sql</span><br><span class="line">sql_engine: mysql</span><br><span class="line">sql_hostnames: 172.18.0.136</span><br><span class="line">sql_user: postfix</span><br><span class="line">sql_passwd: postfix</span><br><span class="line">sql_database: postfix</span><br><span class="line">sql_select: select password from users where email &#x3D; &#39;%u@%r&#39;</span><br></pre></td></tr></table></figure>
<p>修改权限</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ chmod o= /etc/pam.d/smtp</span><br><span class="line">$ chmod o= /etc/postfix/sasl/smtpd.conf</span><br></pre></td></tr></table></figure>
<p>postfix加到sasl组</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ adduser postfix sasl</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>重启postfix ,saslauthd</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ /etc/init.d/postfix restart</span><br><span class="line">$ /etc/init.d/saslauthd restart</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.sohophp.app/2021/05/21/docker-ubuntu-postfix-mysql/" data-id="ckqs8au9o000e0umzbzpwcqq1" data-title="ubuntu下安装postfix+mysql+dovecot" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-ubuntu20-install-php7-2" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/05/03/ubuntu20-install-php7-2/" class="article-date">
  <time class="dt-published" datetime="2021-05-03T11:15:00.000Z" itemprop="datePublished">2021-05-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/05/03/ubuntu20-install-php7-2/">ubuntu20 install php7.2</a>
    </h1>
  

      </header>
    

    <!-- Table of Contents -->
   

    <div class="e-content article-entry" itemprop="articleBody">
      
        <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># update and upgrade</span></span><br><span class="line"></span><br><span class="line">$ sudo apt update &amp;&amp; apt upgrade</span><br><span class="line"><span class="comment"># install software-properties-common</span></span><br><span class="line"></span><br><span class="line">$ sudo apt-get install software-properties-common</span><br><span class="line"></span><br><span class="line"><span class="comment"># add apt repository ppa:ondrej/php</span></span><br><span class="line"></span><br><span class="line">$ sudo add-apt-repository ppa:ondrej/php</span><br><span class="line"><span class="comment"># install php7.2 and extensions</span></span><br><span class="line"><span class="comment"># optional: libapache2-mod-php7.2 </span></span><br><span class="line"><span class="comment"># optional: php7.2-xdebug  </span></span><br><span class="line">$ sudo apt install php7.2 \</span><br><span class="line">php7.2-cli \</span><br><span class="line">php7.2-common \</span><br><span class="line">php7.2-curl \</span><br><span class="line">php7.2-fpm \</span><br><span class="line">php7.2-gd \</span><br><span class="line">php7.2-json \</span><br><span class="line">php7.2-mbstring \</span><br><span class="line">php7.2-mcrypt \</span><br><span class="line">php7.2-mysql  \</span><br><span class="line">php7.2-opcache \</span><br><span class="line">php7.2-sqlite3 \</span><br><span class="line">php7.2-yaml \</span><br><span class="line">php7.2-zip \</span><br><span class="line">php7.2-dom</span><br><span class="line"><span class="comment"># enable startup php7.2-fpm</span></span><br><span class="line">$ sudo systemctl <span class="built_in">enable</span> php7.2-fpm</span><br><span class="line"><span class="comment"># start php7.2-fpm</span></span><br><span class="line">$ sudo systemctl start php7.2-fpm</span><br><span class="line">$ sudo systemctl status php7.2-fpm</span><br><span class="line">$ sudo a2enmod proxy_fcgi setenvif</span><br><span class="line"><span class="comment"># enable rewrite</span></span><br><span class="line">$ sudo a2emod <span class="built_in">enable</span> rewrite</span><br><span class="line"><span class="comment"># enable php7.2-fpm</span></span><br><span class="line">$ sudo a2enconf php7.2-fpm</span><br><span class="line">$ sudo systemctl restart apache2</span><br><span class="line"><span class="comment"># 切換默認php命令 php7.2,php7.4 ...</span></span><br><span class="line">update-alternatives --<span class="built_in">set</span> php /usr/bin/php7.2</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.sohophp.app/2021/05/03/ubuntu20-install-php7-2/" data-id="ckqs8au9x000w0umzgda26zbx" data-title="ubuntu20 install php7.2" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/php/" rel="tag">php</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ubuntu/" rel="tag">ubuntu</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-docker" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/03/03/docker/" class="article-date">
  <time class="dt-published" datetime="2021-03-03T12:53:57.000Z" itemprop="datePublished">2021-03-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Docker/">Docker</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/03/03/docker/">docker</a>
    </h1>
  

      </header>
    

    <!-- Table of Contents -->
   

    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="mysql容器使用固定IP方法"><a href="#mysql容器使用固定IP方法" class="headerlink" title="mysql容器使用固定IP方法"></a>mysql容器使用固定IP方法</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建自定网络</span></span><br><span class="line">docker network create --subnet=172.18.0.0/16 mynetwork</span><br><span class="line"><span class="comment"># 指定使用的网络和ip运行mysql</span></span><br><span class="line">docker run -p 33306:3306 --name mysql -v /home/jason/var/mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=xxxxxx --net mynetwork --ip 172.18.0.136 -d mysql:5.6 </span><br><span class="line">docker run --name php -v /home/jason/webroot:/var/www/html --net mynetwork --ip 172.18.0.80 -itd sohophp/php-multi-apache:latest start</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.sohophp.app/2021/03/03/docker/" data-id="ckqs8au9s000k0umzfaakc3cu" data-title="docker" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Docker/" rel="tag">Docker</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-docker-减小体积生成新的镜像" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/02/27/docker-%E5%87%8F%E5%B0%8F%E4%BD%93%E7%A7%AF%E7%94%9F%E6%88%90%E6%96%B0%E7%9A%84%E9%95%9C%E5%83%8F/" class="article-date">
  <time class="dt-published" datetime="2021-02-27T14:46:52.000Z" itemprop="datePublished">2021-02-27</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Docker/">Docker</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/02/27/docker-%E5%87%8F%E5%B0%8F%E4%BD%93%E7%A7%AF%E7%94%9F%E6%88%90%E6%96%B0%E7%9A%84%E9%95%9C%E5%83%8F/">docker 减小体积生成新的镜像</a>
    </h1>
  

      </header>
    

    <!-- Table of Contents -->
   

    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Docker commit 每次都会加大镜像体积</p>
<p>解决办法:</p>
<p>使用Docker import 导入系统文件,丢弃镜像历史引用.</p>
<p>同样适用于全新安装系统生成docker镜像。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看容器id, &#123;container_id&#125;</span></span><br><span class="line">$ docker ps</span><br><span class="line"><span class="comment"># 开启一个&#123;container_id&#125;的交互式终端</span></span><br><span class="line">$ docker <span class="built_in">exec</span> -it &#123;container_id&#125; bash</span><br><span class="line">$ <span class="built_in">cd</span> /</span><br><span class="line"><span class="comment"># 清理,同时可以删除和清理其它</span></span><br><span class="line">$ yum clean all &amp;&amp; <span class="built_in">history</span> -cw</span><br><span class="line"><span class="comment"># 查看/目录文件大小</span></span><br><span class="line">$ du -h --exclude=/proc --exclude=/sys /</span><br><span class="line"><span class="comment"># 压缩成base.tar 排除/proc和/sys</span></span><br><span class="line"><span class="comment"># 在使用--exclude=/proc时会出错，所以使用 &gt;/dev/null 可以看到错误消息</span></span><br><span class="line">$ tar --exclude=/proc --exclude=/sys --exclude=/base.tar -cvf base.tar / &gt;/dev/null</span><br><span class="line"><span class="comment"># 退出容器</span></span><br><span class="line">$ <span class="built_in">exit</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 复制容器&#123;ontainer_id&#125;中的/base.tar文件到当前目录</span></span><br><span class="line">$ docker cp &#123;container_id&#125;:/base.tar .</span><br><span class="line"><span class="comment"># 使用base.tar 生成&#123;image_name&#125; 镜像</span></span><br><span class="line">$ cat base.tar | docker import - &#123;image_name&#125;</span><br><span class="line"><span class="comment"># 查看生成的镜像 (1.28G 转换后501Mb )</span></span><br><span class="line">$ docker image ls</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.sohophp.app/2021/02/27/docker-%E5%87%8F%E5%B0%8F%E4%BD%93%E7%A7%AF%E7%94%9F%E6%88%90%E6%96%B0%E7%9A%84%E9%95%9C%E5%83%8F/" data-id="ckqs8au9r000i0umz1qs9a6j6" data-title="docker 减小体积生成新的镜像" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/docker/" rel="tag">docker</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-ubuntu20-001" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/02/26/ubuntu20-001/" class="article-date">
  <time class="dt-published" datetime="2021-02-26T17:47:23.000Z" itemprop="datePublished">2021-02-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/02/26/ubuntu20-001/">ubuntu20-001</a>
    </h1>
  

      </header>
    

    <!-- Table of Contents -->
   

    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="取消鼠标中键粘贴功能"><a href="#取消鼠标中键粘贴功能" class="headerlink" title="取消鼠标中键粘贴功能"></a>取消鼠标中键粘贴功能</h2><p>新建开机启动命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/profile.d/xmodmap.sh</span><br></pre></td></tr></table></figure>
<p>xmodmap.sh 内容如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="comment"># 取消鼠标中键粘贴功能,</span></span><br><span class="line"><span class="comment"># 不输出错误消息 Warning: Only changing the first 8 of 10 buttons.</span></span><br><span class="line">xmodmap -e <span class="string">&#x27;pointer = 1 25 3 4 5 6 7 2&#x27;</span> 2&gt;/dev/null</span><br></pre></td></tr></table></figure>
<h2 id="优化开机启慢问题"><a href="#优化开机启慢问题" class="headerlink" title="优化开机启慢问题"></a>优化开机启慢问题</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 列出开机启动占用时间长的服务</span></span><br><span class="line">$ systemd-analyze blame </span><br><span class="line"></span><br><span class="line"><span class="comment"># 46.780s plymouth-quit-wait.service   </span></span><br><span class="line"><span class="comment"># 关闭开机启动动画，反向操作用umask</span></span><br><span class="line">sudo systemctl mask plymouth-quit-wait.service</span><br><span class="line"><span class="comment"># 关闭自动升级</span></span><br><span class="line">sudo systemctl <span class="built_in">disable</span> apt-daily.service</span><br><span class="line"><span class="comment"># 修改启动时选择系统的等待时间，默认10秒，修改为2秒</span></span><br><span class="line"><span class="comment"># GRUB_TIMEOUT=2</span></span><br><span class="line">sudo vim /etc/default/grub</span><br><span class="line"><span class="comment"># 更新开机引导</span></span><br><span class="line">sudo update-grub</span><br><span class="line"><span class="comment"># 设置开机分辨率，解决开机黑屏时间长，</span></span><br><span class="line">sudo apt-get install v86d hwinfo</span><br><span class="line"><span class="comment"># 查看显示卡支持的分辨率</span></span><br><span class="line">sudo hwinfo --framebuffer</span><br><span class="line"><span class="comment"># 修改grub加一行</span></span><br><span class="line"><span class="comment"># GRUB_GFXPAYLOAD_LINUX=1024×768x24</span></span><br><span class="line">sudo vim /etc/default/grub</span><br><span class="line"><span class="comment">#启用framebuffer</span></span><br><span class="line"><span class="built_in">echo</span> FRAMEBUFFER=y | sudo tee /etc/initramfs-tools/conf.d/splash</span><br><span class="line"><span class="comment">#更新设置：</span></span><br><span class="line">sudo update-grub</span><br><span class="line">sudo update-grub2</span><br><span class="line">sudo update-initramfs -u</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装经典桌面，解决卡顿</span></span><br><span class="line"><span class="comment"># 启动后登录画面选择 Gnome Flashback</span></span><br><span class="line">sudo apt install gnome-session-flashback </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看硬盘读写速度</span></span><br><span class="line">$ hdparm -t /dev/sdb</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用gparted把目标硬盘分区 </span></span><br><span class="line"><span class="comment"># 查看现有硬盘分区情况</span></span><br><span class="line">$ fdisk -l</span><br><span class="line"><span class="comment"># 目标硬盘分区为</span></span><br><span class="line"><span class="comment"># Device     Boot   Start       End   Sectors   Size Id Type</span></span><br><span class="line"><span class="comment"># /dev/sda1          2048   1050623   1048576   512M  b W95 FAT32</span></span><br><span class="line"><span class="comment"># /dev/sda2       1050624 250068991 249018368 118.8G 83 Linux</span></span><br><span class="line"><span class="comment"># 源硬盘分区为</span></span><br><span class="line"><span class="comment"># Device     Boot   Start       End   Sectors   Size Id Type</span></span><br><span class="line"><span class="comment"># /dev/sdb1  *       2048   1050623   1048576   512M  b W95 FAT32</span></span><br><span class="line"><span class="comment"># /dev/sdb2       1052670 625141759 624089090 297.6G  5 Extended</span></span><br><span class="line"><span class="comment"># /dev/sdb5       1052672 625141759 624089088 297.6G 83 Linux</span></span><br><span class="line"><span class="comment"># 把sdb5复制到sda2</span></span><br><span class="line">$ dd <span class="keyword">if</span>=/dev/sdb5 of=/dev/sda2</span><br><span class="line"><span class="comment"># 另外开个终端执行以下命令后。dd命令可以看到dd命令执行过程</span></span><br><span class="line">$ watch -n 5 killall -USR1 dd</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.sohophp.app/2021/02/26/ubuntu20-001/" data-id="ckqs8au9w000u0umzfdothk1y" data-title="ubuntu20-001" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-centos7-make-install-apache2-4-and-php7-2" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/02/26/centos7-make-install-apache2-4-and-php7-2/" class="article-date">
  <time class="dt-published" datetime="2021-02-26T01:23:20.000Z" itemprop="datePublished">2021-02-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/02/26/centos7-make-install-apache2-4-and-php7-2/">centos7 make install apache2.4 and php7.2</a>
    </h1>
  

      </header>
    

    <!-- Table of Contents -->
   

    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装开发环境</span></span><br><span class="line">$ yum groupinstall <span class="string">&quot;Development Tools&quot;</span></span><br><span class="line"><span class="comment"># 安装工具</span></span><br><span class="line">$ yum install wget</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="install-apache-2-4-46"><a href="#install-apache-2-4-46" class="headerlink" title="install apache-2.4.46"></a>install apache-2.4.46</h2><h3 id="install-apr-and-apr-util"><a href="#install-apr-and-apr-util" class="headerlink" title="install  apr and apr-util"></a>install  apr and apr-util</h3><p><a target="_blank" rel="noopener" href="https://apr.apache.org/download.cgi">https://apr.apache.org/download.cgi</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">$ wget https://mirrors.tuna.tsinghua.edu.cn/apache/apr/apr-1.7.0.tar.gz </span><br><span class="line">$ tar -zxvf apr-1.7.0.tar.gz </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="install-apr-and-apr-util-1"><a href="#install-apr-and-apr-util-1" class="headerlink" title="install  apr and apr-util"></a>install  apr and apr-util</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ wget https://mirrors.tuna.tsinghua.edu.cn/apache/apr/apr-util-1.6.1.tar.gz</span><br><span class="line">$ tar -zxvf apr-util-1.6.1.tar.gz</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="install-apache"><a href="#install-apache" class="headerlink" title="install apache"></a>install apache</h3><p><a target="_blank" rel="noopener" href="https://httpd.apache.org/download.cgi#apache24">https://httpd.apache.org/download.cgi#apache24</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">$ su</span><br><span class="line">$ mkdir /var/src </span><br><span class="line">$ <span class="built_in">cd</span> /var/src</span><br><span class="line">$ wget https://downloads.apache.org/httpd/httpd-2.4.46.tar.gz</span><br><span class="line">$ tar -zxvf httpd-2.4.46.tar.gz</span><br><span class="line">$ <span class="built_in">cd</span> httpd-2.4.46</span><br><span class="line">$ ./configure --prefix=/usr/<span class="built_in">local</span>/apache \</span><br><span class="line">--sysconfdir=/etc/httpd24 \</span><br><span class="line">--enable-so \</span><br><span class="line">--enable-ssl \</span><br><span class="line">--enable-cgi \</span><br><span class="line">--enable-rewrite \</span><br><span class="line">--with-zlib \</span><br><span class="line">--with-pcre \</span><br><span class="line">--with-apr=/usr/<span class="built_in">local</span>/apr \</span><br><span class="line">--with-apr-util=/usr/<span class="built_in">local</span>/apr-util/ \</span><br><span class="line">--enable-modules=most \</span><br><span class="line">--enable-mpms-shared=all \</span><br><span class="line">--with-mpm=prefork</span><br><span class="line"></span><br><span class="line">$ make &amp;&amp; make install</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="install-php"><a href="#install-php" class="headerlink" title="install php"></a>install php</h3><p><a target="_blank" rel="noopener" href="https://www.php.net/releases/">https://www.php.net/releases/</a></p>
<h4 id="install-php5-6"><a href="#install-php5-6" class="headerlink" title="install php5.6"></a>install php5.6</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ wget https://www.php.net/distributions/php-5.6.40.tar.gz</span><br><span class="line">$ tar -zxvf php-5.6.40.tar.gz</span><br><span class="line">$ <span class="built_in">cd</span> php-5.6.40</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="install-php5-5-6"><a href="#install-php5-5-6" class="headerlink" title="install php5.5.6"></a>install php5.5.6</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ wget https://www.php.net/distributions/php-5.5.6.tar.gz</span><br></pre></td></tr></table></figure>
<h4 id="install-PHP5-4-44"><a href="#install-PHP5-4-44" class="headerlink" title="install PHP5.4.44"></a>install PHP5.4.44</h4><p><a target="_blank" rel="noopener" href="https://www.php.net/distributions/php-5.4.44.tar.gz">https://www.php.net/distributions/php-5.4.44.tar.gz</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.sohophp.app/2021/02/26/centos7-make-install-apache2-4-and-php7-2/" data-id="ckqs8au9n000d0umzfiyhehqm" data-title="centos7 make install apache2.4 and php7.2" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-SELinux" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/02/07/SELinux/" class="article-date">
  <time class="dt-published" datetime="2021-02-07T15:02:00.000Z" itemprop="datePublished">2021-02-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>►<a class="article-category-link" href="/categories/Linux/CentOS/">CentOS</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/02/07/SELinux/">SELinux</a>
    </h1>
  

      </header>
    

    <!-- Table of Contents -->
   

    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="SELinux的策略与规则管理相关命令"><a href="#SELinux的策略与规则管理相关命令" class="headerlink" title="SELinux的策略与规则管理相关命令"></a>SELinux的策略与规则管理相关命令</h3><h4 id="getsebool"><a href="#getsebool" class="headerlink" title="getsebool"></a>getsebool</h4><p>getsebool命令是用来查询SELinux策略内各项规则的布尔值。<br>SELinux的策略与规则管理相关命令：<br>seinfo命令、sesearch命令、getsebool命令、setsebool命令、semanage命令。</p>
<h5 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h5><p>-a：列出目前系统上面的所有布尔值条款设置为开启或关闭值。</p>
<h5 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看httpd相关设定</span></span><br><span class="line">$ getsebool -a | grep httpd</span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.sohophp.app/2021/02/07/SELinux/" data-id="ckqs8au9k00090umz214m329o" data-title="SELinux" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CentOS/" rel="tag">CentOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CentOS7/" rel="tag">CentOS7</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SELinux/" rel="tag">SELinux</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-CentOS7-自签名证书配置-Apache-https-SSL" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/02/06/CentOS7-%E8%87%AA%E7%AD%BE%E5%90%8D%E8%AF%81%E4%B9%A6%E9%85%8D%E7%BD%AE-Apache-https-SSL/" class="article-date">
  <time class="dt-published" datetime="2021-02-06T18:38:00.000Z" itemprop="datePublished">2021-02-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/02/06/CentOS7-%E8%87%AA%E7%AD%BE%E5%90%8D%E8%AF%81%E4%B9%A6%E9%85%8D%E7%BD%AE-Apache-https-SSL/">CentOS7 自签名证书配置 Apache https (SSL)</a>
    </h1>
  

      </header>
    

    <!-- Table of Contents -->
   

    <div class="e-content article-entry" itemprop="articleBody">
      
        <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ su</span><br><span class="line">$ yum install mod_ssl openssl openssl-devel</span><br><span class="line">$ cp openssl.cnf openssl.cnf.bak</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.sohophp.app/2021/02/06/CentOS7-%E8%87%AA%E7%AD%BE%E5%90%8D%E8%AF%81%E4%B9%A6%E9%85%8D%E7%BD%AE-Apache-https-SSL/" data-id="ckqs8au9d00010umz419sg79b" data-title="CentOS7 自签名证书配置 Apache https (SSL)" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Apache/" rel="tag">Apache</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CentOS/" rel="tag">CentOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CentOS7/" rel="tag">CentOS7</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Https/" rel="tag">Https</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SSL/" rel="tag">SSL</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-CentOS7下PHP7-2安装mcrypt" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/02/05/CentOS7%E4%B8%8BPHP7-2%E5%AE%89%E8%A3%85mcrypt/" class="article-date">
  <time class="dt-published" datetime="2021-02-05T22:14:47.000Z" itemprop="datePublished">2021-02-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/02/05/CentOS7%E4%B8%8BPHP7-2%E5%AE%89%E8%A3%85mcrypt/">CentOS7下PHP7.2安装mcrypt</a>
    </h1>
  

      </header>
    

    <!-- Table of Contents -->
   

    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>PHP7.2 的变更,MCrypt 扩展从内核移动到 PECL。 考虑到 mcrypt 库自 2007 年以来未见任何更新，不再建议使用。 代替品即可以用 OpenSSL 也可以用Sodium</p>
<p>以下是Centos7.5+PHP7.2安装mcrypt过程</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安裝依賴</span></span><br><span class="line">$ yum install libmcrypt libmcrypt-devel mcrypt mhash</span><br><span class="line"><span class="comment"># 下載擴展 http://pecl.php.net/package/mcrypt</span></span><br><span class="line">$ wget http://pecl.php.net/get/mcrypt-1.0.4.tgz</span><br><span class="line"><span class="comment"># 解壓</span></span><br><span class="line"><span class="variable">$tar</span> zxfv mcrypt-1.0.4.tgz </span><br><span class="line"><span class="comment"># 進目錄</span></span><br><span class="line">$ <span class="built_in">cd</span> mcrypt-1.0.4</span><br><span class="line"><span class="comment"># 看一下phpize在哪</span></span><br><span class="line">$ whereis phpize</span><br><span class="line"><span class="comment">#執行phpize</span></span><br><span class="line">$ /usr/bin/phpize</span><br><span class="line"><span class="comment"># 看一下php-config在哪</span></span><br><span class="line">$ whereis php-config</span><br><span class="line"><span class="comment">#編譯安裝</span></span><br><span class="line">$ ./configure --with-php-config=/usr/bin/php-config &amp;&amp; make &amp;&amp; make install</span><br><span class="line"><span class="comment"># 安裝成功會在這裏</span></span><br><span class="line">$ ls /usr/lib64/php/modules/mcrypt.so</span><br><span class="line"><span class="comment"># 在php.ini裏加一行 extension=mcrypt.so 啟用</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="string">&quot;extension=mcrypt.so&quot;</span> &gt;&gt; /etc/php.ini</span><br><span class="line"><span class="comment"># 查看是否安裝成功,如果成功會打印出 mcrypt</span></span><br><span class="line">$ php -m | grep mcrypt</span><br><span class="line"><span class="comment"># 重啟httpd完成</span></span><br><span class="line">$ systemctl restart httpd</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.sohophp.app/2021/02/05/CentOS7%E4%B8%8BPHP7-2%E5%AE%89%E8%A3%85mcrypt/" data-id="ckqs8au9h00040umzd2r6ephe" data-title="CentOS7下PHP7.2安装mcrypt" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>




  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Docker/">Docker</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hexo/">Hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/CentOS/">CentOS</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/PHP/">PHP</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/PHP/Composer/">Composer</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Visual-Sudio-Code/">Visual Sudio Code</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Apache/" rel="tag">Apache</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CRM/" rel="tag">CRM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CRS/" rel="tag">CRS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CentOS/" rel="tag">CentOS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CentOS7/" rel="tag">CentOS7</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Centos/" rel="tag">Centos</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Composer/" rel="tag">Composer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/" rel="tag">Docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Httpd/" rel="tag">Httpd</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Https/" rel="tag">Https</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MariaDB/" rel="tag">MariaDB</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Markdown/" rel="tag">Markdown</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ModSecurity/" rel="tag">ModSecurity</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP/" rel="tag">PHP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP-FPM/" rel="tag">PHP-FPM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP7/" rel="tag">PHP7</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP7-2/" rel="tag">PHP7.2</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SELinux/" rel="tag">SELinux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSL/" rel="tag">SSL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Visual-Sudio-Code/" rel="tag">Visual Sudio Code</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/php/" rel="tag">php</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ubuntu/" rel="tag">ubuntu</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Apache/" style="font-size: 16.67px;">Apache</a> <a href="/tags/CRM/" style="font-size: 10px;">CRM</a> <a href="/tags/CRS/" style="font-size: 10px;">CRS</a> <a href="/tags/CentOS/" style="font-size: 20px;">CentOS</a> <a href="/tags/CentOS7/" style="font-size: 16.67px;">CentOS7</a> <a href="/tags/Centos/" style="font-size: 10px;">Centos</a> <a href="/tags/Composer/" style="font-size: 10px;">Composer</a> <a href="/tags/Docker/" style="font-size: 10px;">Docker</a> <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/Httpd/" style="font-size: 13.33px;">Httpd</a> <a href="/tags/Https/" style="font-size: 10px;">Https</a> <a href="/tags/Linux/" style="font-size: 16.67px;">Linux</a> <a href="/tags/MariaDB/" style="font-size: 10px;">MariaDB</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/ModSecurity/" style="font-size: 10px;">ModSecurity</a> <a href="/tags/MySQL/" style="font-size: 10px;">MySQL</a> <a href="/tags/PHP/" style="font-size: 16.67px;">PHP</a> <a href="/tags/PHP-FPM/" style="font-size: 10px;">PHP-FPM</a> <a href="/tags/PHP7/" style="font-size: 10px;">PHP7</a> <a href="/tags/PHP7-2/" style="font-size: 10px;">PHP7.2</a> <a href="/tags/SELinux/" style="font-size: 10px;">SELinux</a> <a href="/tags/SSL/" style="font-size: 10px;">SSL</a> <a href="/tags/Visual-Sudio-Code/" style="font-size: 10px;">Visual Sudio Code</a> <a href="/tags/docker/" style="font-size: 10px;">docker</a> <a href="/tags/linux/" style="font-size: 10px;">linux</a> <a href="/tags/php/" style="font-size: 10px;">php</a> <a href="/tags/ubuntu/" style="font-size: 10px;">ubuntu</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/07/06/it-is-okay/">it&#39;is okay</a>
          </li>
        
          <li>
            <a href="/2021/05/21/docker-ubuntu-postfix-mysql/">ubuntu下安装postfix+mysql+dovecot</a>
          </li>
        
          <li>
            <a href="/2021/05/03/ubuntu20-install-php7-2/">ubuntu20 install php7.2</a>
          </li>
        
          <li>
            <a href="/2021/03/03/docker/">docker</a>
          </li>
        
          <li>
            <a href="/2021/02/27/docker-%E5%87%8F%E5%B0%8F%E4%BD%93%E7%A7%AF%E7%94%9F%E6%88%90%E6%96%B0%E7%9A%84%E9%95%9C%E5%83%8F/">docker 减小体积生成新的镜像</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 sohophp@gmail.com<br>
      Powered by  sohophp.app
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>